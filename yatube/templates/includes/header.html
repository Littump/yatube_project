{% load static %}
{% with request.resolver_match.view_name as view_name %} 
<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #1c3faa;">
    <div class="container">
        <a class="navbar-brand" href="{% url 'posts:index' %}">
            <img src="{% static 'img/logo.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">
            <span style="color: #fff;">Yatube</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <ul class="nav nav-pills">
            <li class="nav-item">
                <a class="nav-link {% if view_name == 'about:author' %}active{% endif %}" href="{% url 'about:author' %}" style="color:#fff">Об авторе</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if view_name == 'about:tech' %}active{% endif %}" href="{% url 'about:tech' %}" style="color:#fff">Технологии</a>
            </li>
            {% if user.is_authenticated %}
                <li class="nav-item">
                    <a class="nav-link {% if view_name == 'posts:post_create' %}active{% endif %}" href="{% url 'posts:post_create' %}" style="color:#fff">Новая запись</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if request.path == '/profile/'|add:user.username|add:'/' and view_name == 'posts:profile' %}active{% endif %}" href="{% url 'posts:profile' username=user.username %}" style="color:#fff">Личная страница </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if view_name == 'users:password_change' %}active{% endif %}" href="{% url 'users:password_change' %}" style="color:#fff">Изменить пароль</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if view_name == 'users:logout' %}active{% endif %}" href="{% url 'users:logout' %}" style="color:#fff">Выйти</a>
                </li>
            {% else %}
                <li class="nav-item">
                    <a class="nav-link {% if view_name == 'users:login' %}active{% endif %}" href="{% url 'users:login' %}" style="color:#fff">Войти</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if view_name == 'users:signup' %}active{% endif %}" href="{% url 'users:signup' %}" style="color:#fff">Регистрация</a>
                </li>
            {% endif %}
        </ul>
    </div>
</nav>

{% endwith %}

